!function(){"use strict";angular.module("flipsnap",[]).directive("flipsnap",["$window","$parse","$timeout",function(a,b,c){return{transclude:!0,restrict:"A",scope:{},template:"<div ng-transclude></div>",link:function(d,e,f){function g(a,b){var c=a.attr(b);return void 0!==c||null!==c}function h(a){return g(a,"flipsnap-pane")}function i(a){return g(a,"ng-repeat")}var j=angular.element(e.children()[0]),k=f.flipsnap,l=f.flipsnapId,m=b(f.flipsnapOptions)(d.$parent),n=j[0].hidden;j[0].hidden=!0;var o,p={};d.completeLayout=function(){j[0].hidden=n;var a=0;angular.forEach(j.children(),function(b){if(b=angular.element(b),h(b)&&(a+=b[0].offsetWidth,b.css("float","left")),i(b)){var e=b.attr("ng-repeat").match(/in\s+(.+)/)[1];p[e]||(p[e]=d.$parent.$watch(e,function(){c(function(){d.completeLayout(),d.generateFlipsnap()})},!0))}}),e.css("overflow","hidden"),j.css("width",a+"px"),j.attr("id",l),o=o||d.$parent.$watch(f.flipsnapOptions,d.generateFlipsnap,!0)},d.generateFlipsnap=function(){var b=d.$parent[k];d.$parent[k]=a.Flipsnap("#"+l,m),b&&b.destroy()},c(d.completeLayout)}}}])}();