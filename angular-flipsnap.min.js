!function(){"use strict";angular.module("flipsnap",[]).directive("flipsnap",["$window","$parse","$timeout",function(a,b,c){return{transclude:!0,restrict:"A",scope:{},template:"<div ng-transclude></div>",link:function(d,e,f){function g(a,b){var c=a.attr(b);return void 0!==c||null!==c}function h(a){return g(a,"flipsnap-pane")}function i(a){return g(a,"ng-repeat")}function j(){m[0].hidden=r;var a=0;angular.forEach(m.children(),function(b){if(b=angular.element(b),h(b)&&(a+=b[0].offsetWidth,b.css("float","left")),i(b)){var d=b.attr("ng-repeat").match(/in\s+(.+)/)[1];t[d]||(t[d]=n.$watch(d,function(){c(function(){j(),k()})},!0))}}),e.css("overflow","hidden"),m.css("width",a+"px"),m.attr("id",q),s=s||n.$watch(f.flipsnapOptions,k,!0)}function k(){var b=n[p];n[p]=a.Flipsnap("#"+q,o),l(),b&&b.destroy()}function l(){n[p]&&(n[p].canMoveNext=n[p].hasNext(),n[p].canMovePrev=n[p].hasPrev())}a.Flipsnap||(a.Flipsnap=function(){});var m=angular.element(e.children()[0]),n=d.$parent;f.flipsnapOptions=f.flipsnapOptions||{},f.flipsnapId=f.flipsnapId||"flipsnap",f.flipsnap=f.flipsnap||"flipsnap";var o=b(f.flipsnapOptions)(n),p=f.flipsnap,q=f.flipsnapId,r=m[0].hidden;m[0].hidden=!0;var s,t={};m.on("fspointmove",function(){n.$$phase?l():d.$apply(l)}),c(j)}}}])}();